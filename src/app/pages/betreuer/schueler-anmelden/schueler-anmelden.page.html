<app-header></app-header>

<ion-content>
  <div class="flex-container">
    <ion-label class="anwesenheitsliste-label">
      Anwesenheitsliste
    </ion-label>
    <ion-input placeholder="Suchen" class="schueler-suchen" [(ngModel)]="search" (ionChange)="searchChanged()"></ion-input>
    <ion-row nowrap class="klasse-row">
      <ion-label class="ion-padding-vertical">
        Klasse:
      </ion-label>
      <ion-select class="klasse-suchen" okText="Okay" cancelText="Abbrechen" [(ngModel)]="selectedClass" (ionChange)="selectedClassChanged()">
          <ion-select-option *ngFor="let class of classes" value={{class}}>{{class}}</ion-select-option>
      </ion-select>
    </ion-row>
  </div>
  <div class="schueler-container">
    <ion-item *ngFor="let pupil of filteredPupils" lines="none" [ngClass]="{'schueler-item-angemeldet':pupil.anwesenheit == 0, 'schueler-item-noch-nicht-anwesend':pupil.anwesenheit == 1, 'schueler-item-nach-Hause-gegangen':pupil.anwesenheit == 2, 'schueler-item-ueberfaellig':pupil.anwesenheit == 3.}" (click)="presentAlert(pupil)">
      <div class="schueler-content-container">
        <ion-label>
          {{pupil.name}}
        </ion-label>
        <ion-row class="zeile1">
          <ion-label class="klasse-label">
            Klasse: {{pupil.klasse}}
          </ion-label>
        </ion-row>
        <ion-row class="zeile1">
          <ion-label class="betreuungsende-label">
            Betreuungsende: {{pupil.betreuungsende}}
          </ion-label>
        </ion-row>
        <ion-row>
          <ion-label>
            {{pupil.info}}
          </ion-label>  
        </ion-row>
      </div>
    </ion-item>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-label slot="start">
      Datum:
    </ion-label>
    <ion-datetime displayFormat="DD MMM YYYY" pickerFormat="DD MMM YYYY" [(ngModel)]="date" (ionChange)="dateChanged()"></ion-datetime>
  </ion-toolbar>
</ion-footer>